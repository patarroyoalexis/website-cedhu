Servicios en Linea / Views

@login_required
def gestionar_eventos(request):
    eventos = Evento.objects.all().order_by('-fecha')

    if request.method == 'POST':
        if 'crear_evento' in request.POST:
            nombre = request.POST.get('nombre')
            descripcion = request.POST.get('descripcion')
            fecha_str = request.POST.get('fecha')
            hora_str = request.POST.get('hora')
            portada = request.FILES.get('portada')

            try:
                fecha = datetime.datetime.strptime(fecha_str, '%Y-%m-%d').date()
                hora = datetime.datetime.strptime(hora_str, '%H:%M').time()
            except (ValueError, TypeError):
                messages.error(request, 'Fecha u hora no v√°lidas.')
                return redirect('gestionar_eventos')

            Evento.objects.create(
                nombre=nombre,
                descripcion=descripcion,
                fecha=fecha,
                hora=hora,
                portada=portada,
            )
            messages.success(request, 'Evento creado exitosamente.')
        
        elif 'eliminar_evento' in request.POST:
            evento_id = request.POST.get('evento_id')
            try:
                evento = Evento.objects.get(id=evento_id)
                evento.delete()
                messages.success(request, 'Evento eliminado correctamente.')
            except Evento.DoesNotExist:
                messages.error(request, 'El evento no existe.')

        return redirect('gestionar_eventos')

    context = {'eventos': eventos}
    return render(request, 'core/gestionar_eventos.html', context)

def detalle_evento(request, evento_id):
    try:
        evento = Evento.objects.get(id=evento_id)
        return render(request, 'core/detalle_evento.html', {'evento': evento})
    except Evento.DoesNotExist:
        messages.error(request, 'El evento solicitado no existe.')
        return redirect('home')



Servicios en Linea / Urls
path('panel/gestionar-eventos/', views.gestionar_eventos, name='gestionar_eventos'),
    path('evento/<int:evento_id>/', views.detalle_evento, name='detalle_evento'),